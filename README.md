# frontend
프론트엔드 코드 저장소

# 프론트엔드 구현 사항

프론트엔드 UI 인터페이스 저장소
이 저장소는 사용자가 지출 비교 분석을 직관적으로 실행할 수 있도록 Streamlit 기반의 웹 UI를 제공합니다.
사용자 ID 입력, 연령대/도시/날짜/주차 선택, 버튼 기반등
모든 인터랙션은 이 프론트엔드에서 관리되며, 시각적 결과도 함께 출력합니다.

## 1. 주요 기능
   
### 1-1. 사용자 지출 데이터 수집
입력 데이터: Firefly III API에서 사용자 거래내역 요청

-Streamlit 기반 사이드바 UI 구성

-연령대 선택 (20~50대)

-User ID 입력

-도시별 공공데이터 파일 선택

-날짜 설정: 하루 / 일주일 / 한 달

-월/주차 선택 → 시작일, 종료일 자동 설정

-처리 과정:기간 필터링 (하루/일주일/월/주차)

**구현 사항** 

-streamlit UI

-거래 카테고리 매핑 처리

-총 지출 합계 계산

-월별 / 요일별 / 카테고리별 분석

-전월 대비 증감 비교

-CSV 저장 버튼 제공

**1-2. 공공데이터 비교 분석**

분석 방식

-동일 기간 기준 사용자 vs 공공 비교

-대분류 기준 소비 비교 (내 지출 vs 평균)

-차이 금액 계산 및 정렬

-카테고리별 막대 그래프 및 표 출력

**1-3. 절약 팁 제공**

평균보다 지출이 높은 카테고리별로 맞춤형 절약 팁 표시
(예: 식비 → "외식보단 집밥! 밀프렙 추천 ")

**1-4. 상위/하위 사용자 비교**
공공데이터 기반 상위 5명 / 하위 5명 평균 지출과 사용자 비교

사용자 소비 랭킹 및 백분위 계산:

절약 상위 5%인지, 소비 상위 10%인지 시각화로 안내

**2. 프로젝트 구조**

backend/ 에서 전처리된 공공데이터 파일을 불러와 firefly 에 입력된 내 데이터를 경기도 시별로 비교가능.

with st.sidebar:
    st.header("분석 조건 설정")
    user_id = st.text_input("User ID", "1")
    st.header("비교할 공공데이터 파일 선택")
    city_file_map = {
        "수원시": "수원시 최종 데이터.xlsx",
        "시흥시": "시흥시 최종 데이터.xlsx",
        "안산시": "안산시 최종 데이터.xlsx",
        "안양시": "안양시 최종 데이터.xlsx",
        "용인시": "용인시 최종 데이터.xlsx",
        "이천시": "이천시 최종 데이터.xlsx",
        "포천시": "포천시 최종 데이터.xlsx",
        "하남시": "하남시 최종 데이터.xlsx",
        "화성시": "화성시 최종 데이터.xlsx",
    }
    selected_city = st.selectbox("비교할 공공데이터 선택", list(city_file_map.keys()))
    selected_file = city_file_map[selected_city]


### 3. 실행 방법

**3-1. 실행 환경**

-Python 3.8 이상

-docker 를 통해 firefly 연결 (pip install streamlit pandas requests altair openpyxl)

-ubuntu wsl 실행 (streamlit run final_firefly_2.py)

**3-2. 사용 흐름**

-연령대 선택 (기본: 20대)

-공공데이터 파일 선택 (시 단위)

-날짜/주차 설정

-User ID 입력 후 [지출 조회] 버튼 클릭

-[지출 조회 분석] 버튼 클릭하여 비교 분석 출력

## 4. 협업 및 문서

-문서 기반 협업 

-카테고리 매핑, 절약 팁, 주차 계산 등 주요 로직은 함수화 및 주석 정리 완료

-변경 이력은 커밋과 함께 관리

-실제 사용자 데이터가 포함되므로 테스트 시 더미 계정 사용 권장

## 5. 프로젝트 특징 및 협업 스타일
   
-명확한 카테고리 매핑 기준

-카테고리별 비교 및 통계 분석 시각화 중심

-사용자 소비 습관에 대한 통계적 피드백 제공

-MZ 감성 절약 팁 제공

-Git 기반 버전관리 및 Streamlit UI 테스트 병행

